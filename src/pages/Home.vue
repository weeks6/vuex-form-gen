<template>
    <h1>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h1>
    <p>
        –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ø–µ—Ä–µ–¥–∞–µ–º <code>config</code> –∏
        <code>v-model</code> –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã:
    </p>

    <div class="example">
        <pre><code>&lt;script setup lang="ts"&gt;
import GenForm from "@/components/GenForm.vue";

const formData = {
  email: { value: '', errors: [] },
  subscribe: { value: false, errors: [] }
};

const formConfig = {
  fields: [
    {
      name: "email",
      type: "input",
      attrs: { type: "email", placeholder: "–í–≤–µ–¥–∏—Ç–µ email" },
      label: { text: "Email", attrs: { for: "email" } },
      validators: [
        (value) =&gt; !value ? "Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω" : undefined
      ],
      validtionMode: "eager"
    },
    {
      name: "subscribe",
      type: "checkbox",
      label: { text: "–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É" }
    }
  ]
};
&lt;/script&gt;

&lt;template&gt;
  &lt;GenForm
    :config="formConfig"
    v-model="formData"
    @submit="values =&gt; console.log('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ', values)"
    @reset="() =&gt; console.log('–§–æ—Ä–º–∞ —Å–±—Ä–æ—à–µ–Ω–∞')"
  /&gt;
&lt;/template&gt;
</code></pre>
    </div>

    <h2>–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤</h2>
    <table>
        <tbody>
            <tr>
                <th>–ü—Ä–æ–ø—Å</th>
                <th>–¢–∏–ø</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
            </tr>
            <tr>
                <td>config</td>
                <td><code>GenFormConfig</code></td>
                <td>
                    –û–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã, –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª—è, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã,
                    –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏ —Ä–µ–∂–∏–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
                </td>
            </tr>
            <tr>
                <td>v-model / modelValue</td>
                <td><code>GenFormData</code></td>
                <td>
                    –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫
                    –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã.
                </td>
            </tr>
        </tbody>
    </table>

    <h2>–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π</h2>
    <table>
        <tbody>
            <tr>
                <th>–°–æ–±—ã—Ç–∏–µ</th>
                <th>–ê—Ä–≥—É–º–µ–Ω—Ç—ã</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
            </tr>
            <tr>
                <td>update:modelValue</td>
                <td><code>GenFormData</code></td>
                <td>–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã.</td>
            </tr>
            <tr>
                <td>submit</td>
                <td><code>Record&lt;string, any&gt;</code></td>
                <td>
                    –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã, —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ
                    –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π.
                </td>
            </tr>
            <tr>
                <td>reset</td>
                <td>‚Äî</td>
                <td>–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ñ–æ—Ä–º—ã.</td>
            </tr>
        </tbody>
    </table>

    <h2>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤</h2>
    <p>
        –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–ª–æ—Ç—ã –¥–ª—è –º–µ—Ç–æ–∫, –æ—à–∏–±–æ–∫ –∏ –æ–ø—Ü–∏–π select:
    </p>
    <ul>
        <li>
            <code>&lt;slot name="label"&gt;</code> ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–µ—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö
            –ø–æ–ª–µ–π
        </li>
        <li>
            <code>&lt;slot :name="&lt;field-name&gt;-label"&gt;</code> ‚Äî
            –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–µ—Ç–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
        </li>
        <li>
            <code>&lt;slot name="error"&gt;</code> ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –¥–ª—è
            –≤—Å–µ—Ö –ø–æ–ª–µ–π
        </li>
        <li>
            <code>&lt;slot :name="&lt;field-name&gt;-error"&gt;</code> ‚Äî
            –∫–∞—Å—Ç–æ–º–Ω—ã–π –≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
        </li>
        <li>
            <code>&lt;slot name="submit"&gt;</code> ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
        </li>
        <li>
            <code>&lt;slot name="reset"&gt;</code> ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
        </li>
    </ul>

    <h2>–ü—Ä–∏–º–µ—Ä —Å select –∏ –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ–ø—Ü–∏–µ–π</h2>
    <div class="example">
        <pre><code>
const formConfig = {
  fields: [
    {
      name: "country",
      type: "select",
      attrs: {},
      options: [
        { id: 1, title: "–†–æ—Å—Å–∏—è" },
        { id: 2, title: "–°–®–ê" }
      ],
      label: { text: "–°—Ç—Ä–∞–Ω–∞" }
    }
  ]
};
    </code></pre>
    </div>

    <p>
        –í —à–∞–±–ª–æ–Ω–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ—Ç <code>country-option</code> –¥–ª—è
        –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –æ–ø—Ü–∏–π:
    </p>
    <pre><code>&lt;template&gt;
    &lt;GenForm :config="formConfig" v-model="formData"&gt;
        &lt;template #country-option="{ option }"&gt;
        &lt;option :value="option.id"&gt;üåç {{ `\{\{option.title\}\}` }}&lt;/option&gt;
        &lt;/template&gt;
    &lt;/GenForm&gt;
&lt;/template&gt;
        </code></pre>

    <h2>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</h2>
    <ul>
        <li>–î–ª—è checkbox –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ <code>true/false</code>.</li>
        <li>
            –î–ª—è select –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ <code>id</code>,
            <code>value</code> –∏–ª–∏ <code>title</code> –æ–±—ä–µ–∫—Ç–∞ –æ–ø—Ü–∏–∏.
        </li>
        <li>
            –†–µ–∂–∏–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å <code>eager</code>, <code>blur</code> –∏–ª–∏
            <code>lazy</code>.
        </li>
        <li>
            HTML-–∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –ø–æ–ª—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑
            <code>attrs</code> –æ–±—ä–µ–∫—Ç–∞ Field, –Ω–∞–ø—Ä–∏–º–µ—Ä
            <code>{ placeholder: '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', id: 'my-input' }</code>.
        </li>
    </ul>
</template>

<style scoped lang="scss">
h1,
h2,
h3 {
    color: #222;
}
code {
    background-color: #eee;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
}
pre {
    background-color: #eee;
    padding: 1rem;
    overflow-x: auto;
    border-radius: 4px;
}
table {
    border-collapse: collapse;
    margin-bottom: 2rem;
    width: 100%;
}
th,
td {
    border: 1px solid #ccc;
    padding: 0.5rem 1rem;
    text-align: left;
}
th {
    background-color: #f2f2f2;
}
.example {
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 1rem;
    margin-bottom: 2rem;
    border-radius: 4px;
}
</style>

<script setup lang="ts"></script>
